<!DOCTYPE html>
<html lang="en">
<head>
    <!----- Meta ------>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Form page for signing up or signing in to Steel Tracking.">
    <meta name="author" content="Pierce Cederquist">
    <meta name="keywords" content="sign up, login, fitness, tracking, workouts">
    <title>Steel Tracking - Sign-Up</title>

    <!-- External stylesheet -->
    <link rel="stylesheet" href="css/styles.css">

    <style>
        /* ---------- Header / Nav ---------- */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 40px;
            background-color: #141B41;
        }
        nav img { height: 70px; }
        nav .nav { list-style: none; display: flex; gap: 25px; }
        nav .nav li a {
            color: white; text-decoration: none; font-size: 20px;
            font-weight: 500; padding: 10px 15px; border-radius: 6px;
        }
        nav .nav li a:hover { background-color: #313b83; }

        /* ---------- Footer ---------- */
        footer {
            background-color: #141B41; color: white; padding: 40px; margin-top: 40px;
        }
        .footer-container {
            max-width: 1200px; margin: auto; display:flex; justify-content:space-between;
            align-items:flex-start; flex-wrap:wrap; gap:30px;
        }
        .footer-section { flex:1; min-width:250px; }
        .footer-signup-btn { display:inline-block; padding:12px 25px; background-color:#4682b4; color:white; text-decoration:none; border-radius:6px; }

        /* ---------- Page Background ---------- */
        main {
            background-image: url('images/gym-bg.jpg'); /* confirmed path */
            background-size: cover; background-position: center; background-repeat: no-repeat;
            padding: 50px 0; position: relative;
        }
        /* Overlay so forms remain legible on top of background */
        main::before {
            content: ""; position: absolute; top:0; left:0; width:100%; height:100%;
            background-color: rgba(0,0,0,0.55); z-index:1;
        }
        .container { position: relative; z-index:2; }

        /* ---------- Forms & Layout---------- */
        .split-wrapper {
            display:flex; gap:40px; justify-content:center; align-items:flex-start; margin-top:20px;
            flex-wrap:wrap; /* responsive fallback */
        }
        .split-column { display:flex; flex-direction:column; align-items:center; }
        h1 {
            color:white; background-color: rgba(0,0,0,0.6); padding:10px 30px;
            border-radius:8px; text-shadow:1px 1px 4px black; margin-bottom:10px;
        }

        /* Form container visual style  */
        .form-container {
            background-color: rgba(70,130,180,0.9); padding:20px; width:300px; border-radius:8px;
            color: white; text-align:left; box-shadow: 0 4px 8px rgba(0,0,0,0.3); margin:0 auto;
        }
        .form-container label { display:block; margin-top:10px; font-weight:600; font-size:14px; }
        .form-container input, .form-container select {
            width:100%; padding:8px; margin:5px 0; border:none; border-radius:4px;
        }

        /* Buttons  */
        .button {
            display:inline-block; padding:10px 16px; background-color:#1e73be; color:white;
            border:none; border-radius:6px; cursor:pointer; font-size:16px; margin-top:8px;
        }
        .button:hover { filter:brightness(0.95); }
        .button:focus { outline: 3px solid #ffd54f; outline-offset:2px; }

        /* ---------- Accessible Modal Styles ---------- */
        .modal-backdrop {
            display:none; /* toggled by JS */
            position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:1000;
            align-items:center; justify-content:center; padding:20px;
        }
        .modal {
            background: rgba(70,130,180,0.98); padding:22px; width:320px; border-radius:8px;
            box-shadow:0 6px 20px rgba(0,0,0,0.5); color:white; position:relative;
        }
        .modal h2 { margin-top:0; }
        .modal .close-btn {
            background:transparent; border:none; color:white; font-weight:bold; font-size:20px;
            position:absolute; right:12px; top:8px; cursor:pointer;
        }

        /* Small screens adjustments */
        @media (max-width:700px) {
            .split-wrapper { flex-direction:column; gap:20px; }
            .form-container { width:92%; }
            .modal { width:92%; }
        }

    </style>
</head>
<body>
<!-- ============================
     PAGE HEADER:
     ============================ -->
<header>
    <nav aria-label="Primary Navigation">
        <!-- Logo:-->
        <a href="index.html"><img src="images/logo.png" alt="Steel Tracking logo" loading="lazy"></a>

        <!-- Site title -->
        <a href="index.html" style="color:white; font-size:40px; text-decoration:none; font-weight:bold;" aria-label="Steel Tracking homepage">Steel Tracking</a>

        <!-- Main nav: uses role/menu for improved semantics -->
        <ul class="nav" role="menubar" aria-label="Main menu">
            <li role="none"><a role="menuitem" href="index.html">Home</a></li>
            <li role="none"><a role="menuitem" href="exercises.html">Exercises</a></li>
            <li role="none"><a role="menuitem" href="tracking.html">Tracking</a></li>
            <li role="none"><a role="menuitem" href="Sign-up.html" aria-current="page">Sign-Up</a></li>
        </ul>
    </nav>
</header>

<!-- ============================
     MAIN: background + split forms
     ============================ -->
<main>
    <div class="container">
        <div class="split-wrapper" aria-live="polite">
            <!-- ============================
                 LEFT: CREATE ACCOUNT
                 ============================ -->
            <section class="split-column" aria-labelledby="createAccountHeading">
                <h1 id="createAccountHeading">Create Account</h1>

                <div class="form-container" role="region" aria-labelledby="createAccountHeading">
                    <!--
                        signupForm:
                        - uses HTML5 validation attributes 
                        - JS (password match)
                        -->
                    <form id="signupForm" novalidate>
                        <!-- Name (label connected to input via for/id) -->
                        <label for="fullName">Name:</label>
                        <input id="fullName" name="fullName" type="text" placeholder="Enter First and Last Name" required aria-required="true">

                        <!-- Email (built-in validation) -->
                        <label for="signupEmail">Email:</label>
                        <input id="signupEmail" name="email" type="email" placeholder="Enter a valid email" required aria-required="true">

                        <!-- Password with minlength for basic strength -->
                        <label for="signupPassword">Password:</label>
                        <input id="signupPassword" name="password" type="password" placeholder="Enter password (min 8 chars)" minlength="8" required aria-required="true">

                        <!-- Confirm password -->
                        <label for="confirmPassword">Confirm Password:</label>
                        <input id="confirmPassword" name="confirmPassword" type="password" placeholder="Re-enter password" minlength="8" required aria-required="true">

                        <!-- Select for fitness goals -->
                        <label for="fitnessGoals">Fitness Goals:</label>
                        <select id="fitnessGoals" name="fitnessGoals" required aria-required="true">
                            <option value="">Select a goal</option>
                            <option value="weight-loss">Weight Loss</option>
                            <option value="muscle-gain">Muscle Gain</option>
                            <option value="general-fitness">General Fitness</option>
                        </select>

                        <!-- Submit button with ARIA label  -->
                        <button type="submit" class="button" aria-label="Create account">Create Account</button>

                        <!-- Area for validation feedback (populated by JS) -->
                        <div id="signupFeedback" role="status" aria-live="assertive" style="margin-top:8px;"></div>
                    </form>
                </div>
            </section>

            <!-- ============================
                 RETURNING USERS 
                 ============================ -->
            <section class="split-column" aria-labelledby="returningUsersHeading">
                <h1 id="returningUsersHeading">Returning Users</h1>

                <div class="form-container" role="region" aria-labelledby="returningUsersHeading">
                    <!-- Small inline returning form -->
                    <form id="returningForm" onsubmit="return false;">
                        <label for="returningEmail">Email:</label>
                        <input id="returningEmail" name="returningEmail" type="email" placeholder="Enter Email">

                        <label for="returningPassword">Password:</label>
                        <input id="returningPassword" name="returningPassword" type="password" placeholder="Enter Password">

                        <!-- This launches an accessible modal dialog -->
                        <button id="openLoginModal" type="button" class="button" style="margin-top:10px;"
                                aria-haspopup="dialog" aria-controls="modalBackdrop" aria-label="Open login dialog">Login</button>
                    </form>
                </div>
            </section>
        </div>
    </div>
</main>

<!-- ============================
     FOOTER 
     ============================ -->
<footer>
    <div class="footer-container">

        <!-- About section -->
        <div class="footer-section">
            <h3>About Us</h3>
            <p>
                Our mission is to provide accurate fitness guidance, video demonstrations, 
                and tools to help you track progress and reach your goals.
            </p>
        </div>

        <!-- Signup CTA -->
        <div class="footer-section">
            <h3>Start Your Journey</h3>
            <a class="footer-signup-btn" href="Sign-up.html">Sign Up Now</a>
        </div>

    </div>

    <p class="copyright">
        © 2025 Steel Tracking — All Rights Reserved.
    </p>
</footer>

<!-- ============================
     ACCESSIBLE LOGIN MODAL
     - role="dialog" aria-modal="true"
     - focus trap + ESC handling in JS below
     ============================ -->
<div id="modalBackdrop" class="modal-backdrop" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="loginModalTitle">
    <div class="modal" role="document" aria-describedby="loginModalDesc">
        <button class="close-btn" id="closeModal" aria-label="Close login dialog">&times;</button>
        <h2 id="loginModalTitle">Enter Email &amp; Password</h2>
        <p id="loginModalDesc">Please enter your login credentials below and press <strong>Login</strong>.</p>

        <form id="modalLoginForm">
            <label for="modalEmail">Email</label>
            <input id="modalEmail" name="modalEmail" type="email" placeholder="you@example.com" required>

            <label for="modalPassword">Password</label>
            <input id="modalPassword" name="modalPassword" type="password" placeholder="Enter password" minlength="8" required>

            <div style="display:flex; gap:10px; margin-top:12px; justify-content:flex-end;">
                <button type="button" class="button" id="cancelModal">Cancel</button>
                <button type="submit" class="button" id="modalSubmit">Login</button>
            </div>

            <div id="modalFeedback" role="status" aria-live="polite" style="margin-top:8px;"></div>
        </form>
    </div>
</div>

<!-- ============================
     JAVASCRIPT:
     - Signup validation (password match)
     - Accessible modal open/close + focus trap + ESC handling
     ============================ -->
<script>
/* =========================
   SIGNUP FORM VALIDATION
   - client-side friendly checks
   ========================= */
(function() {
    const signupForm = document.getElementById('signupForm');
    const feedback = document.getElementById('signupFeedback');

    signupForm.addEventListener('submit', function(e) {
        e.preventDefault();
        feedback.style.color = '#ffdede'; // reset color for errors

        const name = document.getElementById('fullName').value.trim();
        const email = document.getElementById('signupEmail').value.trim();
        const pw = document.getElementById('signupPassword').value;
        const confirm = document.getElementById('confirmPassword').value;
        const goal = document.getElementById('fitnessGoals').value;

        if (!name) { feedback.textContent = 'Please enter your name.'; document.getElementById('fullName').focus(); return; }
        if (!email) { feedback.textContent = 'Please enter your email.'; document.getElementById('signupEmail').focus(); return; }
        if (pw.length < 8) { feedback.textContent = 'Password must be at least 8 characters.'; document.getElementById('signupPassword').focus(); return; }
        if (pw !== confirm) { feedback.textContent = 'Passwords do not match.'; document.getElementById('confirmPassword').focus(); return; }
        if (!goal) { feedback.textContent = 'Please select a fitness goal.'; document.getElementById('fitnessGoals').focus(); return; }

        // Success (demo). In production, replace with server request.
        feedback.style.color = '#d4ffd4';
        feedback.textContent = 'Success! Account created (demo).';
        signupForm.reset();
    });
})();

/* =========================
   ACCESSIBLE MODAL LOGIC
   - open/close, focus trap, ESC key
   - returns focus to previously focused element
   ========================= */
(function() {
    const openBtn = document.getElementById('openLoginModal');
    const backdrop = document.getElementById('modalBackdrop');
    const closeBtn = document.getElementById('closeModal');
    const cancelBtn = document.getElementById('cancelModal');
    const modal = backdrop.querySelector('.modal');
    const modalForm = document.getElementById('modalLoginForm');
    const modalFeedback = document.getElementById('modalFeedback');
    const focusableSelector = 'input, button, [href], select, textarea, [tabindex]:not([tabindex="-1"])';
    let lastFocused = null;

    function openModal() {
        lastFocused = document.activeElement;
        backdrop.style.display = 'flex';
        backdrop.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden'; // prevent background scrolling

        // Focus first focusable element inside modal
        const focusables = modal.querySelectorAll(focusableSelector);
        if (focusables.length) focusables[0].focus();
    }

    function closeModal() {
        backdrop.style.display = 'none';
        backdrop.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
        modalFeedback.textContent = '';
        if (lastFocused) lastFocused.focus();
    }

    openBtn.addEventListener('click', openModal);
    closeBtn.addEventListener('click', closeModal);
    cancelBtn.addEventListener('click', closeModal);

    // Close on backdrop click 
    backdrop.addEventListener('click', function(e) {
        if (e.target === backdrop) closeModal();
    });

    // Keyboard handling: ESC to close, Tab to trap focus
    document.addEventListener('keydown', function(e) {
        if (backdrop.style.display !== 'flex') return;
        if (e.key === 'Escape') { e.preventDefault(); closeModal(); return; }

        if (e.key === 'Tab') {
            const focusables = modal.querySelectorAll(focusableSelector);
            if (focusables.length === 0) return;
            const first = focusables[0], last = focusables[focusables.length - 1];
            if (e.shiftKey && document.activeElement === first) { e.preventDefault(); last.focus(); }
            if (!e.shiftKey && document.activeElement === last) { e.preventDefault(); first.focus(); }
        }
    });

    // Simple modal login submit 
    modalForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const email = document.getElementById('modalEmail').value.trim();
        const pw = document.getElementById('modalPassword').value;

        if (!email) { modalFeedback.textContent = 'Please enter your email.'; return; }
        if (pw.length < 8) { modalFeedback.textContent = 'Password must be at least 8 characters.'; return; }

        modalFeedback.textContent = 'Logging in (demo)…';
        setTimeout(function() {
            modalFeedback.textContent = '';
            closeModal();
            // Demo success. Replace with real authentication in production.
            alert('Login simulated (demo).');
        }, 700);
    });
})();
</script>
</body>
</html>











